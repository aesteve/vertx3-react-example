plugins {
    id 'java'
    id 'eclipse'
    id 'com.moowork.node' version '0.8'
}

repositories {
	mavenLocal()
    mavenCentral()
    maven { url 'http://oss.sonatype.org/content/repositories/snapshots/' }
}

dependencies {
	compile 'io.vertx:vertx-lang-js:3.0.0-SNAPSHOT'
	
	testCompile 'io.vertx:vertx-lang-js:3.0.0-SNAPSHOT'
	testCompile 'junit:junit:4.12'
}

node {
    download= true
}

task copyModules(type: Copy) {
	dependsOn 'npmInstall'
	from 'node_modules'
	into 'src/main/resources/node_modules'
}

test {
	dependsOn 'copyModules'
}